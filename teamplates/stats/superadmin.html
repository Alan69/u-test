{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>UStudy</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT"
      crossorigin="anonymous"
    />
    <link rel="icon" type="image/x-icon" href="{% static 'quizes/img/favicon.ico' %}">
    <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-u1OknCvxWvY5kfmNBILK2hRnQC3Pr17a+RTT6rIHI7NnikvbZlHgTPOOmMi466C8"
    crossorigin="anonymous"
  ></script>
  <link rel="stylesheet" href="{% static 'quizes/css/css.css' %}">
  
  </head>
    <body>
        <div class="result-container">
          <div class="row result__header" style="margin-bottom: 30px;">
              <div class="col-6">
                  <h2 style="text-transform: uppercase;">Тестируемый Результат</h2>
              </div>
              <div class="col-6" style="text-align: end;">
                <a href="{% url 'mainpage' %}"><img src="{% static 'quizes/img/Group.png' %}" alt=""
                /></a>
              </div>
          </div>
          
          <div style="display: flex; justify-content: space-between">
            <h3>Результатов учащихся по предмету</h3>
          <form action="{% url 'search_results' %}" method="get">
            <input name="q" type="text" placeholder="Пойск...">
          </form>
          </div>
          <table class="table table-striped">
              <thead>
                <tr>
                  <!-- <th scope="col">№</th> -->
                  <th scope="col">Регион</th>
                  <th scope="col">Школа</th>
                  <th scope="col">Класс</th>
                  <th scope="col">Ф.И.О</th>
                  <th scope="col">ИИН</th>
                  <th scope="col">Предмет</th>
                  <!-- <th scope="col">Предметы 2</th>
                  <th scope="col">Предметы 3</th>
                  <th scope="col">Предметы 4</th>
                  <th scope="col">Предметы 5</th> -->
                  <th scope="col">Балы</th>
                  <!-- <th scope="col">Средний бал</th> -->
                </tr>
              </thead>
              <tbody>
              {% for p in results %}
              {% if p.school == request.user.school  %}
              <tr>
                <td>{{p.region}}</td>
                  <td>{{p.school}}</td>
                  <td>{{p.class_name}}</td>
                  
                  
                  <td>{{p.user.get_full_name}}</td>
                  <td>{{p.user}}</td>
                  
                  <td>{{p.quiz}}</td>
                  <td>{{p.score}}</td>
                
              </tr>
              {% endif %}
              {% endfor %}
              </tbody>
            </table>

            <!-- <nav aria-label="Page navigation example" id="pagination"> 
              <ul class="pagination">
                  {% for i in page_obj.paginator.page_range %}
                  {% if page_obj.number == i %}
                  <li class="page-item active"><a class="page-link" href="{{ request.path }}?page={{ i }}">{{i}}</a></li>

                  {% else %}
                  <li class="page-item"><a class="page-link" href="{{ request.path }}?page={{ i }}">{{i}}</a></li>
                  {% endif %}
                  {% endfor %}
              </ul>
            </nav> -->

            <!-- <h3>2. Результатов учащихся по предмету</h3>
            <div class="row">
              <div class="col-9">
                <div class="row "style="margin-top: 20px">
                  <div class="col-3" style="font-size: 17px">
                    <div style="display: flex; justify-content: space-between">
                      <p>Математика</p> <span>75%</span>
                    </div>
                  </div>
                  <div class="col-9">
                    <div class="progress">
                      <div class="progress-bar bg-success" role="progressbar" style="width: 25%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
                    </div>
                  </div>
                </div>
                <div class="row "style="margin-top: 20px">
                  <div class="col-3" style="font-size: 17px">
                    <div style="display: flex; justify-content: space-between">
                      <p>Руский язык</p> <span>25%</span>
                    </div>
                  </div>
                  <div class="col-9">
                    <div class="progress">
                      <div class="progress-bar bg-success" role="progressbar" style="width: 55%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
                    </div>
                  </div>
                </div>
                <div class="row "style="margin-top: 20px">
                  <div class="col-3" style="font-size: 17px">
                    <div style="display: flex; justify-content: space-between">
                      <p>Биология</p> <span>62%</span>
                    </div>
                  </div>
                  <div class="col-9">
                    <div class="progress">
                      <div class="progress-bar bg-success" role="progressbar" style="width: 75%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
                    </div>
                  </div>
                </div>
                <div class="row "style="margin-top: 20px">
                  <div class="col-3" style="font-size: 17px">
                    <div style="display: flex; justify-content: space-between">
                      <p>География</p> <span>40%</span>
                    </div>
                  </div>
                  <div class="col-9">
                    <div class="progress">
                      <div class="progress-bar bg-success" role="progressbar" style="width: 43%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
                    </div>
                  </div>
                </div>
                <div class="row "style="margin-top: 20px">
                  <div class="col-3" style="font-size: 17px">
                    <div style="display: flex; justify-content: space-between">
                      <p>Химия</p> <span>95%</span>
                    </div>
                  </div>
                  <div class="col-9">
                    <div class="progress">
                      <div class="progress-bar bg-success" role="progressbar" style="width: 100%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-3" style="background-color: #DFF0D8;">
                <p class="progres-tess">
                  Нэтичность-один из главных показателей деятельности учителя. Она определяется на основе анализа письменных контрольных работ учителя в процессе выполнения учеником задания и по объему процентного соотношения. <b>90-100%</b> отлично, <b>80-89%</b> очень хорошо, <b>70-79%</b> хорошо, <b>55-69%</b> достаточно, <b>45-54%</b> удовлетворительно, <b>15-44%</b> неудовлетворительно, <b>0-14%</b>неудовлетворительно
                </p>
              </div>
            </div> -->
            <div class="exit-btn2" style="display: flex; justify-content:end; margin-top: 45px;">
              <a href="{% url 'mainpage' %}" style="margin-right: 20px;"><button class="btn btn-primary" type="button">
                Выйти
               </button></a>
              <a href="{% url 'export_result_to_excel' %}"><button class="btn btn-primary" type="button">
                  Скачать excel
                </button></a>
                
            </div>
      </div>

    </body>

</html>